module Admin
  class PromotionInstanceController < AdminController
    before_filter :authorize_promotions!

    def authorize_promotions!
      authorize! :create_promotions, :product
    end

    def index
      @promotion_instances = PromotionInstance.order('created_at desc')
      @promotion_instances = @promotion_instances.paginate(page: params[:page], per_page: 50).map!(&:decorate)
      render :index
    end
  end
end
